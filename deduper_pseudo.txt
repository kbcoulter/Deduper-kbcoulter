### FUNCTIONS ###

collect inputs using argparse...

function: fivepstart: accepts POS (Integer), CIGAR (String), and FLAG (Integer) as arguments and returns an Integer.
    This function accepts the leftmost position, the cigar string, and the strandedness variable and returns the 5' start position of the read as an integer. 
    ** EXAMPLE INPUT AND OUTPUT BELOW **
    Return fivepstart(Integer)

INPUTS: 0,	130171693,	71M	*
OUTPUT: 130171693

function: umigrabber: accepts QNAME string input and returns an UMI string.
    This function accepts the Query Template Name, and cuts the template down to return only the UMI as a string.
    ** EXAMPLE INPUT AND OUTPUT BELOW **
    Return UMI(Intiger)

INPUT: NS500451:154:HWKTMBGXX:1:11101:6251:1098:GTTACGTA
OUTPUT: GTTACGTA

### SCRIPT BODY ###

With the input UMI file, read the unique UMI's into a set for fast UMI search. 
Create a Bad Umi Dictionary 
Create a Duplicate Dictionary 

Open an ouput file at the provided path: 

With the input SAM file, reading row by row:

    Set variable reference to be first row   
    Set variable query to be second row 

    while we have a real query (in bounds of file):

        if we have line beginning with @ we keep it. These do not need to be De-Duped.

        if reference RNAME is not equal to query RNAME: # IF THE CHROMOSOMES DO NOT MATCH
            Write reference to output file # Moving on with no match
            Set reference equal to query # Move reference down
            Move query down one row # Move query down
            continue # No Match

        if reference FLAG (strand) is the same as query FLAG (strand): # IF THE STRANDS DO MATCH
            if the outputs from passing FLAG into fivepstart function for query and reference are equal: # IF THE START POSITIONS MATCH
                if the UMIs match or if they query UMIs not in UMI SET: # IF THE UMIS MATCH or BAD UMI
                    Add to holder to format output report ??
                        Update Duplicate Dictionary.
                        Update Bad UMI Dictionary. 
                    Remove Query Row Entirely 
                else write query row to output file # IF AFTER MATCH, UMI NO MATCH
            else write query row to output file # IF AFTER MATCH START POSITION NO MATCH
        else write query row to output file # IF AFTER CHROM, STRANDS NO MATCH

        Move query down one row 

        # NOTE TO SELF: REORDER CONDITIONALS BY RUNTIME, NOT BY NUMBER OF COMPARISONS (CURRENT) 
            # UMI COLLECT COL 1, CUT, MAKE COMPARISON WOULD LIKLEY BE FASTER THAN COLLECTING LEFTMOST POS, COLLECTING CIGAR, INTERPRETING CIGAR, ADJUSTING START, THEN COMPARING
            # THIS IS LIKLEY TRUE EVEN WITH MORE DATA. 

### OUTPUT ###
Close output sam file

Within the same directory as the output file, open to write .txt report 
    Write Duplicate Dictionary, Bad UMI Dictionary, Possibly UMI Bank, Possibly Paths

### OPTIONAL OUTPUT ### 
OPTIONAL PRINT DONE 







